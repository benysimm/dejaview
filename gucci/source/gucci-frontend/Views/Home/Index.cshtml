@{
    ViewData["Title"] = "Home Page";
}

<div class="page-body">
    <div class="container-fluid">
        <div class="page-sidebar toggled sidebar">
            <nav class="sidebar-collapse d-none d-lg-block">
                <i class="ion ion-ios-arrow-forward show-on-collapsed"></i>
                <i class="ion ion-ios-arrow-back hide-on-collapsed"></i>
            </nav>

            <ul class="nav nav-pills nav-stacked" id="sidebar-stacked">
                <li class="d-lg-none">
                    <a href="#" class="sidebar-close"><i class="ion ion-ios-arrow-left"></i></a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="index.html"><i class="ion ion-ios-home"></i> <span class="nav-text">Paparazzi Protector</span></a>
                </li>
                <li class="nav-item">
                    <a class="nav-container" data-toggle="collapse" data-parent="#sidebar-stacked" href="#p1">
                        <i class="ion ion-ios-flask"></i> <span class="nav-text">User Interface <span class="badge badge-pill badge-nav badge-warning">6</span></span>
                    </a>
                    <ul class="nav nav-pills nav-stacked collapse" id="p1">
                        <li class="nav-item"><a class="nav-link" href="ui-buttons.html">Buttons</a></li>
                        <li class="nav-item"><a class="nav-link" href="ui-grid.html">Grid</a></li>
                        <li class="nav-item"><a class="nav-link" href="ui-typography.html">Typography</a></li>
                        <li class="nav-item"><a class="nav-link" href="ui-icons.html">Icons</a></li>
                        <li class="nav-item"><a class="nav-link" href="ui-images.html">Images</a></li>
                        <li class="nav-item"><a class="nav-link" href="ui-components.html">Components</a></li>
                    </ul>
                </li>
                <li class="nav-item">
                    <a class="nav-container dropdown-toggle" data-toggle="collapse" data-parent="#sidebar-stacked" href="#p2">
                        <i class="ion ion-ios-pie"></i> <span class="nav-text">Charts</span>
                    </a>
                    <ul class="nav nav-pills nav-stacked collapse" id="p2">
                        <li class="nav-item"><a class="nav-link" href="chart-flot.html">Flot Chart</a></li>
                        <li class="nav-item"><a class="nav-link" href="chart-morris.html">Morris Chart</a></li>
                    </ul>
                </li>
                <li class="nav-item">
                    <a class="nav-container" data-toggle="collapse" data-parent="#sidebar-stacked" href="#p3">
                        <i class="ion ion-ios-copy"></i> <span class="nav-text">Custom Pages <span class="badge badge-pill badge-nav badge-warning">4</span></span>
                    </a>
                    <ul class="nav nav-pills nav-stacked collapse" id="p3">
                        <li class="nav-item"><a class="nav-link" href="page-login.html">Login</a></li>
                        <li class="nav-item"><a class="nav-link" href="page-register.html">Register</a></li>
                        <li class="nav-item"><a class="nav-link" href="page-reset-password.html">Reset Password</a></li>
                        <li class="nav-item"><a class="nav-link" href="page-lock-screen.html">Lock Screen</a></li>
                        <li class="nav-item"><a class="nav-link" href="page-blank.html">Blank Page</a></li>
                        <li class="nav-item"><a class="nav-link" href="page-error-404.html">404 Page</a></li>
                        <li class="nav-item"><a class="nav-link" href="page-error-500.html">500 Page</a></li>
                    </ul>
                </li>
                <li class="nav-item">
                    <a class="nav-container dropdown-toggle" data-toggle="collapse" data-parent="#sidebar-stacked" href="#p4">
                        <i class="ion ion-ios-paper"></i> <span class="nav-text">Forms</span>
                    </a>
                    <ul class="nav nav-pills nav-stacked collapse" id="p4">
                        <li class="nav-item"><a class="nav-link" href="form-elements.html">Form Elements</a></li>
                        <li class="nav-item"><a class="nav-link" href="form-validation.html">Form Validation</a></li>

                        <li class="nav-item"><a class="nav-link" href="form-summernote.html">Summernote</a></li>
                    </ul>
                </li>
                <li class="nav-item">
                    <a class="nav-container dropdown-toggle" data-toggle="collapse" data-parent="#sidebar-stacked" href="#p5">
                        <i class="ion ion-ios-list"></i> <span class="nav-text">Tables</span>
                    </a>
                    <ul class="nav nav-pills nav-stacked collapse" id="p5">
                        <li class="nav-item"><a class="nav-link" href="table-basic.html">Basic Table</a></li>
                        <li class="nav-item"><a class="nav-link" href="table-data.html">Data Table</a></li>
                    </ul>
                </li>
                <li class="nav-item">
                    <a class="nav-container" href="calendar.html">
                        <i class="ion ion-ios-calendar"></i> <span class="nav-text">Calendar</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-container dropdown-toggle" data-toggle="collapse" data-parent="#sidebar-stacked" href="#p7">
                        <i class="ion ion-ios-location"></i> <span class="nav-text">Maps</span>
                    </a>
                    <ul class="nav nav-pills nav-stacked collapse" id="p7">
                        <li class="nav-item"><a class="nav-link" href="map-google.html">Google Maps</a></li>
                        <li class="nav-item"><a class="nav-link" href="map-vector.html">Vector Maps</a></li>
                    </ul>
                </li>
            </ul>
        </div>
        <div class="page-content">




            <div class="row">
                <div class="col-md-9 col-sm-8">
                    <div class="card card-default widget">
                        <div class="card-heading">
                            <div class="card-controls">
                                <a href="#" class="widget-minify"><i class="fa fa-chevron-up"></i></a>
                                <a href="#" class="widget-close"><i class="fa fa-times"></i></a>
                            </div>
                            <h3 class="card-title">Plan Route</h3>
                        </div>
                        <div class="card-body">
                            <!--ArcGIS test-->
                            <div style="height: 400px" id="simple-map-div"></div>
                        </div>
                    </div>
                </div><!-- /.col-md-9 -->
                <div class="col-md-3 col-sm-4">
                    <div class="panel card-default widget">
                        <div class="card-heading">
                            <div class="card-controls">
                                <a href="#" class="widget-minify"><i class="fa fa-chevron-up"></i></a>
                                <a href="#" class="widget-close"><i class="fa fa-times"></i></a>
                            </div>
                            <h3 class="card-title">Browser Usage</h3>
                        </div>
                        <div class="card-body">
                            <div id="chart-pie" class="margin-20" style="height: 300px;"></div>
                            <div class="chart-legend pull-right">
                                <div class="item">
                                    <div class="color background-success"></div> Chrome
                                </div>
                                <div class="item">
                                    <div class="color background-info"></div> Firefox
                                </div>
                                <div class="item">
                                    <div class="color background-warning"></div> IE
                                </div>
                            </div>
                        </div>
                    </div>
                </div><!-- /.col-md-3 -->
            </div>


            <div class="row">
                <div class="col-md-9 col-sm-8">
                    <div class="card card-default widget">
                        <div class="card-heading">
                            <div class="card-controls">
                                <select class="form-control form-control-sm d-none d-md-inline-block" style="width: 130px; display: inline-block" placeholder="Month">
                                    <option>January</option>
                                    <option>February</option>
                                    <option>March</option>
                                    <option>April</option>
                                    <option selected>May</option>
                                    <option>June</option>
                                    <option>July</option>
                                    <option>August</option>
                                    <option>September</option>
                                    <option>October</option>
                                    <option>November</option>
                                    <option>December</option>
                                </select>
                                <select class="form-control form-control-sm d-none d-md-inline-block" style="width: 130px; display: inline-block" placeholder="">
                                    <option selected>Line Chart</option>
                                    <option>Candle Sticks</option>
                                </select>

                                <a href="#" class="widget-minify"><i class="fa fa-chevron-up"></i></a>
                                <a href="#" class="widget-close"><i class="fa fa-times"></i></a>
                            </div>
                            <h3 class="card-title">Recent Movement</h3>
                        </div>
                        <div class="card-body">
                            <div id="chart-profit" style="height: 379px;"></div>
                        </div>
                    </div>
                </div><!-- /.col-md-9 -->
                <div class="col-md-3 col-sm-4">
                    <div class="panel card-default widget">
                        <div class="card-heading">
                            <div class="card-controls">
                                <a href="#" class="widget-minify"><i class="fa fa-chevron-up"></i></a>
                                <a href="#" class="widget-close"><i class="fa fa-times"></i></a>
                            </div>
                            <h3 class="card-title">Browser Usage</h3>
                        </div>
                        <div class="card-body">
                            <div id="chart-pie" class="margin-20" style="height: 300px;"></div>
                            <div class="chart-legend pull-right">
                                <div class="item">
                                    <div class="color background-success"></div> Chrome
                                </div>
                                <div class="item">
                                    <div class="color background-info"></div> Firefox
                                </div>
                                <div class="item">
                                    <div class="color background-warning"></div> IE
                                </div>
                            </div>
                        </div>
                    </div>
                </div><!-- /.col-md-3 -->
            </div>
            <div class="row">
                <div class="col-lg-4">
                    <div class="panel card-default widget widget-resellers">
                        <div class="card-heading">
                            <div class="card-controls">
                                <a href="#" class="widget-minify"><i class="fa fa-chevron-up"></i></a>
                                <a href="#" class="widget-close"><i class="fa fa-times"></i></a>
                            </div>
                            <h3 class="card-title">Resellers</h3>
                        </div>
                        <div class="card-body">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>Name</th>
                                        <th style="width: 25%;">Company</th>
                                        <th class="text-right" style="width: 25%;">Sales</th>
                                    </tr>
                                </thead>
                            </table>
                            <ul class="resellers-slider list-unstyled">
                                <li>
                                    <table class="table">
                                        <tbody>
                                            <tr>
                                                <td>Harvey C. Lerma</td>
                                                <td style="width: 25%;">Cisco</td>
                                                <td style="width: 25%;" class="text-right">$ 135,000</td>
                                            </tr>
                                            <tr>
                                                <td>Martin C. Randall</td>
                                                <td>Oracle</td>
                                                <td class="text-right">$ 152,000</td>
                                            </tr>
                                            <tr>
                                                <td>Eric G. Vann</td>
                                                <td>IBM</td>
                                                <td class="text-right">$ 94,000</td>
                                            </tr>
                                            <tr>
                                                <td>Howard K. Haubrich</td>
                                                <td>Capco</td>
                                                <td class="text-right">$ 168,000</td>
                                            </tr>
                                            <tr>
                                                <td>Carlos L. Johnson</td>
                                                <td>EMC</td>
                                                <td class="text-right">$ 82,000</td>
                                            </tr>
                                            <tr>
                                                <td>Stacy R. Lester</td>
                                                <td>Capita</td>
                                                <td class="text-right">$ 110,000</td>
                                            </tr>
                                            <tr>
                                                <td>Shaun M. Henry</td>
                                                <td>Accenture</td>
                                                <td class="text-right">$ 104,000</td>
                                            </tr>
                                            <tr>
                                                <td>James B. Jimenez</td>
                                                <td>Fujitsu</td>
                                                <td class="text-right">$ 121,000</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </li>
                                <li>
                                    <table class="table">
                                        <tbody>
                                            <tr>
                                                <td>Chang M. Santiago</td>
                                                <td style="width: 25%;">Cisco</td>
                                                <td style="width: 25%;" class="text-right">$ 135,000</td>
                                            </tr>
                                            <tr>
                                                <td>Alan D. Hebert</td>
                                                <td>IBM</td>
                                                <td class="text-right">$ 92,000</td>
                                            </tr>
                                            <tr>
                                                <td>Christopher M. Erwin</td>
                                                <td>Capita</td>
                                                <td class="text-right">$ 108,000</td>
                                            </tr>
                                            <tr>
                                                <td>Jeremy B. Blevins</td>
                                                <td>Oracle</td>
                                                <td class="text-right">$ 125,000</td>
                                            </tr>
                                            <tr>
                                                <td>Joseph C. Wong</td>
                                                <td>Accenture</td>
                                                <td class="text-right">$ 109,000</td>
                                            </tr>
                                            <tr>
                                                <td>Ismael D. Chatman</td>
                                                <td>Fujitsu</td>
                                                <td class="text-right">$ 117,000</td>
                                            </tr>
                                            <tr>
                                                <td>Daryl S. Boyd</td>
                                                <td>EMC</td>
                                                <td class="text-right">$ 86,000</td>
                                            </tr>
                                            <tr>
                                                <td>Richard S. Crook</td>
                                                <td>Capco</td>
                                                <td class="text-right">$ 154,000</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </li>
                            </ul>

                        </div>
                    </div>
                </div><!-- /.col-lg-4 -->
                <div class="col-lg-8">
                    <div class="panel card-default widget widget-worldmap">
                        <div class="card-heading">
                            <div class="card-controls">
                                <a href="#" class="widget-minify"><i class="fa fa-chevron-up"></i></a>
                                <a href="#" class="widget-close"><i class="fa fa-times"></i></a>
                            </div>
                            <h3 class="card-title">Worldwide Transactions</h3>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-lg-8 col-md-7">
                                    <div id="world-map" style="height: 320px"></div>
                                </div><!-- /.col-lg-8 -->
                                <div class="col-lg-4 col-md-5">
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th>Country</th>
                                                <th class="text-right">Sales</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>Brazil</td>
                                                <td class="text-right">$ 123.00</td>
                                            </tr>
                                            <tr>
                                                <td>United Kingdom</td>
                                                <td class="text-right">$ 147.00</td>
                                            </tr>
                                            <tr>
                                                <td>Germany</td>
                                                <td class="text-right">$ 104.00</td>
                                            </tr>
                                            <tr>
                                                <td>France</td>
                                                <td class="text-right">$ 92.00</td>
                                            </tr>
                                            <tr>
                                                <td>Saudi Arabia</td>
                                                <td class="text-right">$ 48.00</td>
                                            </tr>
                                            <tr>
                                                <td>China</td>
                                                <td class="text-right">$ 231.00</td>
                                            </tr>
                                            <tr>
                                                <td>India</td>
                                                <td class="text-right">$ 172.00</td>
                                            </tr>
                                            <tr>
                                                <td>Australia</td>
                                                <td class="text-right">$ 143.00</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div><!-- /.col-lg-4 -->
                            </div>
                        </div>
                    </div>
                </div><!-- /.col-lg-8 -->
            </div>
            <div class="row">
                <div class="col-md-4">
                    <div class="panel card-default widget widget-messages">
                        <div class="card-heading">
                            <div class="card-controls">
                                <a href="#" class="widget-minify"><i class="fa fa-chevron-up"></i></a>
                                <a href="#" class="widget-close"><i class="fa fa-times"></i></a>
                            </div>
                            <h3 class="card-title">Messages</h3>
                        </div>
                        <div class="card-body">
                            <div class="media-items">
                                <div class="media">
                                    <div class="media-left mr-1">
                                        <a href="#">
                                            <img class="media-object img-circle" src="../img/avatar-500x500.png" width="48" height="48">
                                        </a>
                                    </div>
                                    <div class="media-body mb-3">
                                        <p class="media-heading weight-regular mb-0">
                                            Linda Miller
                                            <span class="pull-right text-sm">5m ago</span>
                                        </p>
                                        <span class="text-sm text-muted">Etiam rhoncus. Maecenas tempus, tellus eget condimentum rhoncus, quam semper libero..</span>
                                    </div>
                                </div>

                                <div class="media">
                                    <div class="media-left mr-1">
                                        <a href="#">
                                            <img class="media-object img-circle" src="../img/avatar-500x500-2.png" width="48" height="48">
                                        </a>
                                    </div>
                                    <div class="media-body mb-3">
                                        <p class="media-heading weight-regular mb-0">
                                            Kathie Burton
                                            <span class="pull-right text-sm">15m ago</span>
                                        </p>
                                        <span class="text-sm text-muted">Nam pretium turpis et arcu. Duis arcu tortor, suscipit eget, imperdiet nec, imperdiet..</span>
                                    </div>
                                </div>

                                <div class="media">
                                    <div class="media-left mr-1">
                                        <a href="#">
                                            <img class="media-object img-circle" src="../img/avatar-500x500.png" width="48" height="48">
                                        </a>
                                    </div>
                                    <div class="media-body mb-3">
                                        <p class="media-heading weight-regular mb-0">
                                            Linda Miller
                                            <span class="pull-right text-sm">2h ago</span>
                                        </p>
                                        <span class="text-sm text-muted">Etiam rhoncus. Maecenas tempus, tellus eget condimentum rhoncus, quam semper libero..</span>
                                    </div>
                                </div>

                                <div class="media">
                                    <div class="media-left mr-1">
                                        <a href="#">
                                            <img class="media-object img-circle" src="../img/avatar-500x500-2.png" width="48" height="48">
                                        </a>
                                    </div>
                                    <div class="media-body mb-3">
                                        <p class="media-heading weight-regular mb-0">
                                            Kathie Burton
                                            <span class="pull-right text-sm">3h ago</span>
                                        </p>
                                        <span class="text-sm text-muted">Nam pretium turpis et arcu. Duis arcu tortor, suscipit eget, imperdiet nec, imperdiet..</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div><!-- /.col-md-4 -->
                <div class="col-md-4">
                    <div class="panel card-default widget widget-todo">
                        <div class="card-heading">
                            <div class="card-controls">
                                <a href="#" class="widget-minify"><i class="fa fa-chevron-up"></i></a>
                                <a href="#" class="widget-close"><i class="fa fa-times"></i></a>
                            </div>
                            <h3 class="card-title">Todo List</h3>
                        </div>
                        <div class="card-body">
                            <div class="todo">
                                <ul class="list-unstyled mb-2">
                                    <li class="todo-item">
                                        <i class="checkbox fa fa-square-o"></i> <span>Take out the trash</span>
                                    </li>
                                    <li class="todo-item done">
                                        <i class="checkbox fa fa-check-square"></i> <span>Buy milk</span>
                                    </li>
                                    <li class="todo-item">
                                        <i class="checkbox fa fa-square-o"></i> <span>Plan holiday <span class="badge badge-warning text-sm">Important</span></span>
                                    </li>
                                    <li class="todo-item done">
                                        <i class="checkbox fa fa-check-square"></i> <span>Create admin theme</span>
                                    </li>
                                    <li class="todo-item">
                                        <i class="checkbox fa fa-square-o"></i> <span>Buy a new printer</span>
                                    </li>
                                    <li class="todo-item">
                                        <i class="checkbox fa fa-square-o"></i> <span>Workout</span>
                                    </li>
                                    <li class="todo-item">
                                        <i class="checkbox fa fa-square-o"></i> <span>Pick up kids</span>
                                    </li>
                                    <li class="todo-item">
                                        <i class="checkbox fa fa-square-o"></i> <span>Buy Spark</span>
                                    </li>
                                    <li class="todo-item">
                                        <i class="checkbox fa fa-square-o"></i> <span>Configure Spark</span>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div><!-- /.col-md-4 -->
                <div class="col-md-4">
                    <div class="panel card-default widget widget-calendar">
                        <div class="card-heading">
                            <div class="card-controls">
                                <a href="#" class="widget-minify"><i class="fa fa-chevron-up"></i></a>
                                <a href="#" class="widget-close"><i class="fa fa-times"></i></a>
                            </div>
                            <h3 class="card-title">Calendar</h3>
                        </div>
                        <div class="card-body">
                            <div class="calendar"></div>
                        </div>
                    </div>
                </div><!-- /.col-md-4 -->
            </div>

            <footer class="site-footer text-center">
                <p>&copy; 2018 Spark</p>
                <ul class="list-inline">
                    <li class="list-inline-item"><a href="#">Home</a></li>
                    <li class="list-inline-item"><a href="#">Support</a></li>
                    <li class="list-inline-item"><a href="#">FAQ</a></li>
                    <li class="list-inline-item"><a href="#">Contact</a></li>
                </ul>
            </footer>
        </div>
    </div>
</div>

@section Scripts
{
    
    <script src="https://js.arcgis.com/4.8/"></script>

    <script type="text/javascript">

        

        require([
            "esri/Map",
            "esri/views/MapView",
            "esri/Graphic",
            "esri/layers/GraphicsLayer",
            "esri/tasks/RouteTask",
            "esri/tasks/support/RouteParameters",
            "esri/tasks/support/FeatureSet",
            "esri/core/urlUtils"
        ], function (Map, MapView, Graphic, GraphicsLayer, RouteTask, RouteParameters, FeatureSet, urlUtils) {

            // Proxy the route requests to avoid prompt for log in
            //urlUtils.addProxyRule({
            //    urlPrefix: "route.arcgis.com",
            //    proxyUrl: "/sproxy/"
            //});

            // Point the URL to a valid route service
            var routeTask = new RouteTask({
                url: "https://route.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World"
            });

            // The stops and route result will be stored in this layer
            var routeLayer = new GraphicsLayer();

            // Setup the route parameters
            var routeParams = new RouteParameters({
                stops: new FeatureSet(),
                outSpatialReference: { // autocasts as new SpatialReference()
                    wkid: 3857
                }
            });

            // Define the symbology used to display the stops
            var stopSymbol = {
                type: "simple-marker", // autocasts as new SimpleMarkerSymbol()
                style: "cross",
                size: 15,
                outline: { // autocasts as new SimpleLineSymbol()
                    width: 4
                }
            };

            // Define the symbology used to display the route
            var routeSymbol = {
                type: "simple-line", // autocasts as SimpleLineSymbol()
                color: [0, 0, 255, 0.5],
                width: 5
            };

            var map = new Map({
                basemap: "streets", //"streets-navigation-vector"
                layers: [routeLayer] // Add the route layer to the map
            });

            var view = new MapView({
                container: "simple-map-div", // Reference to the scene div created in step 5
                map: map, // Reference to the map object created before the scene
                center: [149.137802, -35.313423],
                zoom: 16
            });

            // First create a point geometry
            var point1 = {
                type: "point",  // autocasts as new Point()
                latitude: -35.312609,
                longitude: 149.136368
            };

            var point2 = {
                type: "point",  // autocasts as new Point()
                latitude: -35.313423,
                longitude: 149.137802
            };

            var point3 = {
                type: "point",  // autocasts as new Point()
                latitude: -35.316067,
                longitude: 149.135420
            };
            
            

            // Create a symbol for drawing the point
            var markerSymbol = {
                type: "simple-marker",  // autocasts as new SimpleMarkerSymbol()
                color: [226, 119, 40]
            };

            // Create a graphic and add the geometry and symbol to it
            var stop1 = new Graphic({
                geometry: point1,
                symbol: markerSymbol
            });

            var stop2 = new Graphic({
                geometry: point2,
                symbol: markerSymbol
            });

            var stop3 = new Graphic({
                geometry: point3,
                symbol: markerSymbol
            });


            //var stop = new Graphic(event.mapPoint, stopSymbol);
            routeLayer.add(stop1);
            routeParams.stops.features.push(stop1);

            routeLayer.add(stop2);
            routeParams.stops.features.push(stop2);

            routeLayer.add(stop3);
            routeParams.stops.features.push(stop3);

            if (routeParams.stops.features.length >= 2) {
                routeTask.solve(routeParams).then(showRoute);
                lastStop = routeParams.stops.features.splice(0, 1)[0];
            }

            function showRoute(data) {

                console.log("calling showRoute");

                var routeResult = data.routeResults[0].route;
                routeResult.symbol = routeSymbol;
                routeLayer.add(routeResult);
            }
        });

        console.log('testing');
    </script>
}
